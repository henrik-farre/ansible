---
# --base-config roles/molecule-resources/base-config-vagrant.yml
# https://app.vagrantup.com/archlinux/boxes/archlinux
driver:
  name: vagrant
  provider:
    name: virtualbox
dependency:
  name: galaxy
platforms:
  - name: instance
    box: archlinux/archlinux
    box_version: 2019.10.02
    groups:
      - archlinux
      - desktop
lint:
  name: yamllint
  options:
    config-file: ${MOLECULE_PROJECT_DIRECTORY}/roles/molecule-resources/yamllint.yml
verifier:
  name: goss
  lint:
    name: yamllint
provisioner:
  name: ansible
  inventory:
    group_vars:
      all:
        network:
          local_domain: molecule.test
        email_addresses:
          external: email@test.test
          internal: email@test.test
        mail_mailhub: "smtp"
        mail_mailhub_port: 25
        mail_root: "{{ email_addresses.internal }}"
        mail_rewrite_domain: molecule.test
        mail_auth_user: some_user
        mail_auth_pass: some_pass
        groups_to_users: []
        host_packages: []
        host_services: []
        host_uninstalled_packages: []
        aur_packages: []
  config_options:
    defaults:
      vault_password_file: ${MOLECULE_PROJECT_DIRECTORY}/roles/molecule-resources/vault_pass.txt
  env:
    ANSIBLE_ROLES_PATH: ${MOLECULE_PROJECT_DIRECTORY}/roles
    ANSIBLE_LIBRARY: ${MOLECULE_PROJECT_DIRECTORY}/library
  playbooks:
    prepare: ${MOLECULE_PROJECT_DIRECTORY}/roles/molecule-resources/prepare_python_archlinux.yml
    verify: ${MOLECULE_PROJECT_DIRECTORY}/roles/molecule-resources/verify_goss_3.7.yml
  lint:
    name: ansible-lint
    options:
      c: ${MOLECULE_PROJECT_DIRECTORY}/roles/molecule-resources/ansible-lint.yml
